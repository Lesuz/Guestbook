<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" href="./css/styles.css">
        <title>New message</title>
        <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
        <script>
            window.onload = () => {
               
                $("#submit-button").on('click', function(event) {
                    event.preventDefault();
                    console.log("doog morning");
                    let data = {
                        username : document.getElementById("username").value,
                        country : document.getElementById("country").value,
                        date : new Date(),
                        message : document.getElementById("message").value
                    }
                    console.log(data);
                    $.post("/ajaxmessage", data);
                });
            }
        </script>
    </head>
    <body>
        
        <nav class="navbar">
            <p>Guestbook</p>
            <ul>
                <li><a href="/">Home</a></li>

                <li><a href="/guestbook">Guestbook</a></li>

                <li><a href="/newmessage">New Message</a></li>

                <li><a href="/ajaxmessage">AJAX messages</a></li>

            </ul>
        </nav>
        <div class="newmessage-content">
            <h3>Leave a AJAX message!</h3>
            <form method="post" action="#">
                <input type="text" name="username" id="username" placeholder="username" required> 
                <input type="text" name="country" id="country" placeholder="country" required>
                <input type="text" name="message" id="message" placeholder="message" required>
                <button type="button" id="submit-button">Submit</button>
            </form>
            <div id="updated-table">

            </div>
        </div>
        <footer>
            <p>Made by Susanna Hämäläinen 2021</p>
        </footer>
    </body>
</html>